'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.getModuleName = getModuleName;
exports.getModuleVersions = getModuleVersions;
exports.getRequiredVersion = getRequiredVersion;
var MODULE_SEPARATOR_REGEX = exports.MODULE_SEPARATOR_REGEX = /\/|\\/;

function getModuleName(moduleName) {
  var chunks = moduleName.split(MODULE_SEPARATOR_REGEX);
  if (moduleName.slice(0, 1) === '@') {
    return chunks[0] + '/' + chunks[1];
  }
  return chunks[0];
}

function getModuleVersions(memoryCache, moduleName) {
  var versions = memoryCache.get(moduleName);
  if (!versions) {
    memoryCache.set(moduleName, versions = new Set());
  }
  return versions;
}

function getRequiredVersion(manifest, moduleName) {
  if (manifest && manifest.dependencies && manifest.dependencies[moduleName]) {
    return manifest.dependencies[moduleName];
  }
  if (manifest && manifest.devDependencies && manifest.devDependencies[moduleName]) {
    return manifest.devDependencies[moduleName];
  }
  return null;
}